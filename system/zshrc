# Clone antigen and custom repos
if [[ ! -e ~/.antigen ]]; then
    git clone https://github.com/zsh-users/antigen.git ~/.antigen
    git clone git@github.com:emmanuel-dieguez-globant/zsh-config.git ~/.antigen/bundles/edieguez
fi

# Antigen configuration
source ~/.antigen/antigen.zsh

# Load the oh-my-zsh's library.
antigen use oh-my-zsh

# Load custom configuration
source ~/.antigen/bundles/edieguez/zsh-config/system/system.sh

# Apply prompt theme
antigen theme edieguez/zsh-config themes/aya

# Tell antigen that you're done.
antigen apply

# Custom configuration
if [[ ! -L ~/.zshrc ]]; then
    rm ~/.zshrc
    ln -s ~/.antigen/bundles/edieguez/zsh-config/system/zshrc ~/.zshrc
fi
